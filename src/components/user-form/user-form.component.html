
<div class="form-container">
  <h2>{{ isEdit ? "Edit User" : "Add User" }}</h2>
  <form [formGroup]="userForm">
    
   
    <mat-form-field appearance="fill">
      <mat-label>Full Name</mat-label>
      <input matInput formControlName="name" />
      @if(userForm.get('name')?.invalid && userForm.get('name')?.touched) {
      <mat-error>Name is required.</mat-error>
      }
    </mat-form-field>
    

    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input matInput type="email" formControlName="email" />
      @if(userForm.get('email')?.invalid && userForm.get('email')?.touched) {
      <mat-error>Valid email is required.</mat-error>
      }
    </mat-form-field>

    
    <mat-form-field appearance="fill">
      <mat-label>Password</mat-label>
      <input matInput formControlName="password"  />
      @if(userForm.get('password')?.invalid &&
      userForm.get('password')?.touched) {
      <mat-error>Password is required.</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Role</mat-label>
      <mat-select formControlName="role">
        <mat-option [value]="roleAdmin">
          {{ roleAdmin }}
        </mat-option>
        <mat-option [value]="roleUser">
          {{ roleUser }}
        </mat-option>
      </mat-select>
      @if(userForm.get('role')?.invalid && userForm.get('role')?.touched) {
      <mat-error>Role is required.</mat-error>
      }
    </mat-form-field>


    <mat-form-field appearance="fill">
      <mat-label>Account Status</mat-label>
      <mat-select formControlName="accountStatus">
        <mat-option value="Active">Active</mat-option>
        <mat-option value="inActive">Inactive</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-dialog-actions align="end">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="userForm.invalid"
        (click)="onSave()"
      >
        {{ isEdit ? "Save Changes" : "Add User" }}
      </button>

      <button mat-raised-button color="warn" (click)="onCancel()">
        Cancel
      </button>
    </mat-dialog-actions>
  </form>
</div>
